{%- liquid
  assign show_image_containers = section.settings.show_image_containers
  assign show_left_text = false
  assign show_right_text = false

  if section.settings.left_title != blank or section.settings.left_subtitle != blank or section.settings.left_text != blank or section.settings.left_btn_text != blank
    assign show_left_text = true
  endif

  if section.settings.right_title != blank or section.settings.right_subtitle != blank or section.settings.right_text != blank or section.settings.right_btn_text != blank
    assign show_right_text = true
  endif
-%}

<section class="gdc-hero-split__section-wrapper section--{{ section.id }}">
  <div class="gdc-hero-split__side-wrapper gdc-hero-split__left section--{{ section.id }}">
    {% if section.settings.image_one %}
      <div class="gdc-hero-split__image-wrapper gdc-hero-split__image-wrapper--left section--{{ section.id }}">
        <div class="gdc-hero-split__image gdc-hero-split__image--left section--{{ section.id }}">
          <img srcset="{%- if section.settings.image_one.width >= 165 -%}{{ section.settings.image_one | img_url: '165x' }} 165w,{%- endif -%} 
          {%- if section.settings.image_one.width >= 360 -%}{{ section.settings.image_one | img_url: '360x' }} 360w,{%- endif -%}
          {%- if section.settings.image_one.width >= 535 -%}{{ section.settings.image_one | img_url: '535x' }} 535w,{%- endif -%}
          {%- if section.settings.image_one.width >= 720 -%}{{ section.settings.image_one | img_url: '720x' }} 720w,{%- endif -%}
          {%- if section.settings.image_one.width >= 940 -%}{{ section.settings.image_one | img_url: '940x' }} 940w,{%- endif -%}
          {%- if section.settings.image_one.width >= 1070 -%}{{ section.settings.image_one | img_url: '1070x' }} 1070w{%- endif -%}"
          src="{{ section.settings.image_one | img_url: '533x' }}"
          sizes="(min-width: 1100px) 535px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)"
          alt="{{ section.settings.image_one.alt | escape }}"
          loading="lazy"
          width="{{ section.settings.image_one.width }}"
          height="{{ section.settings.image_one.height }}" 
          >
        </div>
      </div>
    {% endif %}
    
    {% if show_left_text %}
      <div class="gdc-hero-split__text-wrapper gdc-hero-split__text-wrapper--left section--{{ section.id }}">
        <div class="gdc-hero-split__text gdc-hero-split__text--left section--{{ section.id }}">
          {% if section.settings.left_title != blank %}
          <h2>{{ section.settings.left_title }}</h2>
          {% endif %}
          {% if section.settings.left_subtitle != blank %}
          <h3>{{ section.settings.left_subtitle }}</h3>
          {% endif %}
          {% if section.settings.left_text != blank %}
          <p>{{ section.settings.left_text }}</p>
          {% endif %}
          {% if section.settings.left_btn_text != blank %}
          <a class="button button--primary gdc-hero-split__btn" href="{{ section.settings.left_btn_url }}">{{ section.settings.left_btn_text }}</a>
          {% endif %}
        </div>
      </div>
    {% endif %}
  </div>

  <div class="gdc-hero-split__side-wrapper gdc-hero-split__right section--{{ section.id }}">
    {% if section.settings.image_two %}
      <div class="gdc-hero-split__image-wrapper gdc-hero-split__image-wrapper--right section--{{ section.id }}">
        <div class="gdc-hero-split__image gdc-hero-split__image--right section--{{ section.id }}">
          <img srcset="{%- if section.settings.image_two.width >= 165 -%}{{ section.settings.image_two | img_url: '165x' }} 165w,{%- endif -%} 
          {%- if section.settings.image_two.width >= 360 -%}{{ section.settings.image_two | img_url: '360x' }} 360w,{%- endif -%}
          {%- if section.settings.image_two.width >= 535 -%}{{ section.settings.image_two | img_url: '535x' }} 535w,{%- endif -%}
          {%- if section.settings.image_two.width >= 720 -%}{{ section.settings.image_two | img_url: '720x' }} 720w,{%- endif -%}
          {%- if section.settings.image_two.width >= 940 -%}{{ section.settings.image_two | img_url: '940x' }} 940w,{%- endif -%}
          {%- if section.settings.image_two.width >= 1070 -%}{{ section.settings.image_two | img_url: '1070x' }} 1070w{%- endif -%}"
          src="{{ section.settings.image_two | img_url: '533x' }}"
          sizes="(min-width: 1100px) 535px, (min-width: 750px) calc((100vw - 130px) / 2), calc((100vw - 50px) / 2)"
          alt="{{ section.settings.image_two.alt | escape }}"
          loading="lazy"
          width="{{ section.settings.image_two.width }}"
          height="{{ section.settings.image_two.height }}"
          >
        </div>
      </div>
    {% endif %}

    {% if show_right_text %}
    <div class="gdc-hero-split__text-wrapper gdc-hero-split__text-wrapper--right section--{{ section.id }}">
      <div class="gdc-hero-split__text gdc-hero-split__text--right section--{{ section.id }}">
        {% if section.settings.right_title != blank %}
        <h2>{{ section.settings.right_title }}</h2>
        {% endif %}
        {% if section.settings.right_subtitle != blank %}
        <h3>{{ section.settings.right_subtitle }}</h3>
        {% endif %}
        {% if section.settings.right_text != blank %} 
        <p>{{ section.settings.right_text }}</p>
        {% endif %}
        {% if section.settings.right_btn_text != blank %}
        <a class="button button--primary gdc-hero-split__btn" href="{{ section.settings.right_btn_url }}">{{ section.settings.right_btn_text }}</a>
        {% endif %}
      </div>
    </div>
    {% endif %}
  </div>
</section>

<style>
  .gdc-hero-split__section-wrapper.section--{{ section.id }} {
    height: {{ section.settings.hero_height }}px;
    margin-top: {{ section.settings.t_margin }}px;
    margin-bottom: {{ section.settings.b_margin }}px;
  }

  .gdc-hero-split__side-wrapper.section--{{ section.id }} {
    height: {{ section.settings.hero_height }}px;
  }

  .gdc-hero-split__left.section--{{ section.id }} {
    background-color: {{ section.settings.bg_color_left }};
  }

  .gdc-hero-split__right.section--{{ section.id }} {
    background-color: {{ section.settings.bg_color_right }};
  }

  .gdc-hero-split__image--left.section--{{ section.id }} {
    width: {{ section.settings.image_left_width }}%;
    height: {{ section.settings.image_left_height }}%;
    {% if show_image_containers %}
    border: 5px dotted red;
    {% endif %}
  }

  .gdc-hero-split__image--left.section--{{ section.id }} img {
    object-fit: {{ section.settings.image_left_fit }};
    object-position: {{ section.settings.image_left_h_pos }}% {{ section.settings.image_left_v_pos }}%;
    opacity: {{ section.settings.image_left_opacity }};
  }

  .gdc-hero-split__image--right.section--{{ section.id }} {
    width: {{ section.settings.image_right_width }}%;
    height: {{ section.settings.image_right_height }}%;
    {% if show_image_containers %}
    border: 5px dotted yellow;
    {% endif %}
  }

  .gdc-hero-split__image--right.section--{{ section.id }} img {
    object-fit:  {{ section.settings.image_right_fit }};
    object-position: {{ section.settings.image_right_h_pos }}% {{ section.settings.image_right_v_pos }}%;
    opacity: {{ section.settings.image_right_opacity }};
  }

  .gdc-hero-split__text-wrapper--left.section--{{ section.id }} {
    justify-content: {{ section.settings.left_text_h_pos }};
    align-items: {{ section.settings.left_text_v_pos }};
    margin: {{ section.settings.left_text_margin }}px;
  }

  .gdc-hero-split__text-wrapper--right.section--{{ section.id }} {
    justify-content: {{ section.settings.right_text_h_pos }};
    align-items: {{ section.settings.right_text_v_pos }};
    margin: {{ section.settings.right_text_margin }}px;
    
  }

  .gdc-hero-split__text--left.section--{{ section.id }} {
    text-align: {{ section.settings.left_text_align }};
    {% if section.settings.left_bg_opacity < 100 %}
      background-color: {{ section.settings.left_text_bg_color }}{{ section.settings.left_bg_opacity }};
    {% else %}
      background-color: {{ section.settings.left_text_bg_color }};
    {% endif %};
    width: {{ section.settings.left_text_width }}%;
  }

  .gdc-hero-split__text--right.section--{{ section.id }} {
    text-align: {{ section.settings.right_text_align }};
    {% if section.settings.right_bg_opacity < 100 %}
      background-color: {{ section.settings.right_text_bg_color }}{{ section.settings.right_bg_opacity }};
    {% else %}
      background-color: {{ section.settings.right_text_bg_color }};
    {% endif %};
    width: {{ section.settings.right_text_width }}%;
  }

  .gdc-hero-split__text--left.section--{{ section.id }} p,
  .gdc-hero-split__text--left.section--{{ section.id }} h2,
  .gdc-hero-split__text--left.section--{{ section.id }} h3 {
    color: {{ section.settings.left_text_color }};
  }

  .gdc-hero-split__text--left.section--{{ section.id }} p {
    font-size: {{ section.settings.left_text_size }}px;
  }
  .gdc-hero-split__text--left.section--{{ section.id }} h2 {
    font-size: {{ section.settings.left_title_size }}px;
  }
  .gdc-hero-split__text--left.section--{{ section.id }} h3 {
    font-size: {{ section.settings.left_subtitle_size }}px;
  }

  .gdc-hero-split__text--right.section--{{ section.id }} p,
  .gdc-hero-split__text--right.section--{{ section.id }} h2,
  .gdc-hero-split__text--right.section--{{ section.id }} h3 {
    color: {{ section.settings.right_text_color }};
  }

  .gdc-hero-split__text--right.section--{{ section.id }} p {
    font-size: {{ section.settings.right_text_size }}px;
  }
  .gdc-hero-split__text--right.section--{{ section.id }} h2 {
    font-size: {{ section.settings.right_title_size }}px;
  }
  .gdc-hero-split__text--right.section--{{ section.id }} h3 {
    font-size: {{ section.settings.right_subtitle_size }}px;
  }

</style>
